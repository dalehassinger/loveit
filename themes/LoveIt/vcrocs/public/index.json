[{"categories":["Automation"],"content":"How to setup and configure your VMware Aria Automation environment to work with Ansible. ","date":"2022-12-30","objectID":"/hugo-loveit/vmware-aria-automation-ansible-integration/:0:0","tags":["Ansible","VMware Aria Automation","vRealize Automation","Rocky Linux","Red Hat"],"title":"VMware Aria Automation and Ansible Integration","uri":"/hugo-loveit/vmware-aria-automation-ansible-integration/"},{"categories":["Automation"],"content":"1 Use Case I was recently asked how the VMware Aria Automation | Ansible Integration worked. I never used Ansible before so I thought this would be great time to learn Ansible and demo the integration with VMware Aria Automation. If you look at some of my previous blog posts I wrote about SaltStack Config a lot. I thought this would be a good time for myself to learn Ansible and compare the two products. When I started reading about the VMware Aria Automation and Ansible Integration, I didn’t find a single blog post or article that covered everything from installing Ansible to creating a new Server Build in Aria Automation. I am going to document all the steps that it took for me to do a complete Aria Automation | Ansible integration. I hope that someone will find this blog post useful on their Automation journey. A lot of people that write about Ansible use it with Red Hat Linux. For my demo environment, I chose to use Rocky Linux so that I don’t need to worry about any Red Hat licenses. Some people online recommend using Rocky Linux to replace CentOS. Sometimes it seems that the version of Linux you choose and what product to you use for Automation and Config management can be almost a religious debate. This blog post is to cover a specific use case. How to use VMware Aria Automation | Ansible Integration. Use whatever version of Linux you want. The details that I write about may need to be modified slightly if you use a different version of Linux. This blog post will at least give you the framework to get started. When I wrote this Blog Post I was using VMware Aria Automation version 8.10.2, Ansible 2.13.3 and Rocky Linux 9. To use the details in this blog post you will need a working install of VMware Aria Automation. ","date":"2022-12-30","objectID":"/hugo-loveit/vmware-aria-automation-ansible-integration/:1:0","tags":["Ansible","VMware Aria Automation","vRealize Automation","Rocky Linux","Red Hat"],"title":"VMware Aria Automation and Ansible Integration","uri":"/hugo-loveit/vmware-aria-automation-ansible-integration/"},{"categories":["Automation"],"content":"2 Create a Ansible Control Server and install Ansible: Create a new Server. I created a clean Rocky Linux VM. This server will be used as the Ansible Control Node. Steps to install Ansible: # Step 1 | Install Rocky Linux EPEL repository dnf install epel-release -y # Step 2 | Install Ansible dnf install ansible -y # Check Ansible Version after Install ansible --version Results from ansible –version: ansible [core 2.13.3] config file = /etc/ansible/ansible.cfg configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/lib/python3.9/site-packages/ansible ansible collection location = /root/.ansible/collections:/usr/share/ansible/collections executable location = /usr/bin/ansible python version = 3.9.14 (main, Nov 7 2022, 00:00:00) [GCC 11.3.1 20220421 (Red Hat 11.3.1-2)] jinja version = 3.1.2 libyaml = True Click to see Larger Image of Screen Shot ","date":"2022-12-30","objectID":"/hugo-loveit/vmware-aria-automation-ansible-integration/:2:0","tags":["Ansible","VMware Aria Automation","vRealize Automation","Rocky Linux","Red Hat"],"title":"VMware Aria Automation and Ansible Integration","uri":"/hugo-loveit/vmware-aria-automation-ansible-integration/"},{"categories":["Automation"],"content":"3 Edit the hosts file: Edit the /etc/ansible/hosts file: I like to use nano to edit files. To save file changes in Nano use cntrl-o. To exit Nano use cntrl-x. # the cmd at the cli to edit the hosts file nano /etc/ansible/hosts This is the contents of the /etc/ansible/hosts file: [rocky] 192.168.110.201 [rocky:vars] ansible_user=root ansible_password='VMware1!' Click to see Larger Image of Screen Shot ","date":"2022-12-30","objectID":"/hugo-loveit/vmware-aria-automation-ansible-integration/:3:0","tags":["Ansible","VMware Aria Automation","vRealize Automation","Rocky Linux","Red Hat"],"title":"VMware Aria Automation and Ansible Integration","uri":"/hugo-loveit/vmware-aria-automation-ansible-integration/"},{"categories":["Automation"],"content":"4 Edit the ansible.cfg file: Edit the /etc/ansible/ansible.cfg file: # the cmd at the cli to edit the ansible.cfg file nano /etc/ansible/ansible.cfg This is the minium contents of the /etc/ansible/ansible.cfg file: BOTH of these lines MUST be in the ansible.cfg file to add Ansible to VMware Aria Automation. If they are not present, adding the Integration will fail! The vault password file can be named something different, BUT IT MUST BE SPECIFIED! [defaults] host_key_checking = False vault_password_file = /etc/ansible/vault-pass.txt Click to see Larger Image of Screen Shot ","date":"2022-12-30","objectID":"/hugo-loveit/vmware-aria-automation-ansible-integration/:4:0","tags":["Ansible","VMware Aria Automation","vRealize Automation","Rocky Linux","Red Hat"],"title":"VMware Aria Automation and Ansible Integration","uri":"/hugo-loveit/vmware-aria-automation-ansible-integration/"},{"categories":["Automation"],"content":"5 Test Ansible Install To test the Ansible install you can do a ping: # the cmd at the cli to run a ping ansible rocky -m ping Click to see Larger Image of Screen Shot ","date":"2022-12-30","objectID":"/hugo-loveit/vmware-aria-automation-ansible-integration/:5:0","tags":["Ansible","VMware Aria Automation","vRealize Automation","Rocky Linux","Red Hat"],"title":"VMware Aria Automation and Ansible Integration","uri":"/hugo-loveit/vmware-aria-automation-ansible-integration/"},{"categories":["Automation"],"content":"6 VMware Aria Automation Configuration Add Ansible Integration to VMware Aria Automation: Click to see Larger Image of Screen Shot You need to specify the Inventory File path. Default is /etc/ansible/hosts You need to make sure the /etc/ansible/ansible.cfg file has the following two lines of code to add as an VMware Aria Automation Integration. ansible.cfg file: [defaults] host_key_checking = False vault_password_file = /etc/ansible/vault-pass.txt Ansible Integration screen: Click to see Larger Image of Screen Shot ","date":"2022-12-30","objectID":"/hugo-loveit/vmware-aria-automation-ansible-integration/:6:0","tags":["Ansible","VMware Aria Automation","vRealize Automation","Rocky Linux","Red Hat"],"title":"VMware Aria Automation and Ansible Integration","uri":"/hugo-loveit/vmware-aria-automation-ansible-integration/"},{"categories":["Automation"],"content":"7 VMware Aria Automation Cloud Template Add Ansible to Cloud Template Click to see Larger Image of Screen Shot Cloud Template YAML code # Cloud Template using Ansible Integration formatVersion: 1 inputs: CustomizationSpec: type: string description: Customization Specification default: ubuntu title: CustomizationSpec VMName: type: string title: VM Name minLength: 1 maxLength: 12 default: VCROCS-001 IP: type: string default: 192.168.110.200 ServerGroups: type: string title: ServerGroups description: Ansible Server Groups default: rocky enum: - rocky - WebServers - AppServers - DBServers PlayBooks: type: string title: PlayBooks description: Ansible PlayBooks default: web-server-rocky enum: - web-server-rocky - rocky-web - rocky-db resources: Cloud_Ansible_1: type: Cloud.Ansible properties: host: ${resource.Cloud_Machine_1.*} osType: linux account: rocky-ansible username: root password: VMware1! groups: - ${input.ServerGroups} playbooks: provision: - ${\"/etc/ansible/\" + input.PlayBooks + \".yml\" } Cloud_Network_1: type: Cloud.Network properties: networkType: existing constraints: - tag: network:VMs Cloud_Machine_1: type: Cloud.Machine properties: image: rocky flavor: small name: ${input.VMName} customizationSpec: ${input.CustomizationSpec} constraints: - tag: env:VMs networks: - network: ${resource.Cloud_Network_1.id} assignment: static address: ${input.IP} Example Ansible Playbook Creates a txt file, adds text to txt file, installs web server, starts web server service, enables cockpit, installs git, and does a git pull request from GitHub to copy web site files to new server. # web-server-rocky.yml - hosts: rocky name: Ansible Playbook to Install Web Server tasks: - name: Create a new txt file | web-server.txt file: path: /root/web-server.txt state: touch - name: Add a line of text to txt file | web-server.txt lineinfile: path: /root/web-server.txt line: \"vRA created this VM and used Ansible to create and modify this txt file | web-server.txt\" - name: Install Apache web server dnf: name: httpd state: latest - name: Ensure HTTP server is running service: name: httpd state: started - name: Run systemctl enable --now cockpit.socket command shell: systemctl enable --now cockpit.socket - name: Install Git dnf: name: git state: latest - name: Github Pull request of www.vCROCS.info ansible.builtin.git: repo: https://github.com/dalehassinger/Blog.git dest: /var/www/html single_branch: yes version: master VMware Aria Automation Service Broker Catalog: Click to see Larger Image of Screen Shot VMware Aria Automation Service Broker Request You can make the Ansible Server Group and Playbooks a dropdown with the custom form. The code to do this is within the YAML code of the Cloud Template. Click to see Larger Image of Screen Shot ","date":"2022-12-30","objectID":"/hugo-loveit/vmware-aria-automation-ansible-integration/:7:0","tags":["Ansible","VMware Aria Automation","vRealize Automation","Rocky Linux","Red Hat"],"title":"VMware Aria Automation and Ansible Integration","uri":"/hugo-loveit/vmware-aria-automation-ansible-integration/"},{"categories":["Automation"],"content":"8 Lessons Learned Lessons Learned: The VMware Aria Automation | Ansible Integration works well if you follow all the configuration steps. Ansible installation is very easy when you follow the directions. ","date":"2022-12-30","objectID":"/hugo-loveit/vmware-aria-automation-ansible-integration/:8:0","tags":["Ansible","VMware Aria Automation","vRealize Automation","Rocky Linux","Red Hat"],"title":"VMware Aria Automation and Ansible Integration","uri":"/hugo-loveit/vmware-aria-automation-ansible-integration/"},{"categories":["Automation"],"content":"9 Helpful Links VMware Aria Automation | Ansible Links I found to be very helpful: Red Hat Ansible Web Site Deeper look at the vRealize Automation and Ansible Open Source Integration Configure Ansible Open Source integration in Cloud Assembly Info When I write about VMware Aria Automation I always say there are many ways to accomplish the same task. Ansible is the same way. I am showing what I felt was important to see but every organization/environment will be different. There is no right or wrong way to use Ansible. ","date":"2022-12-30","objectID":"/hugo-loveit/vmware-aria-automation-ansible-integration/:9:0","tags":["Ansible","VMware Aria Automation","vRealize Automation","Rocky Linux","Red Hat"],"title":"VMware Aria Automation and Ansible Integration","uri":"/hugo-loveit/vmware-aria-automation-ansible-integration/"},{"categories":["APPS"],"content":"APPs that I use everyday to be Productive | 2022 If you have any APPs that you like better than I have listed please send them my way. I am always open to looking at new APPs. If you would ever want to see how I use these APPs reach out! I can do a demo. ","date":"2022-11-26","objectID":"/hugo-loveit/productive-apps-2022/:0:0","tags":["MAC","Apple","APPs"],"title":"Productive APPs | 2022","uri":"/hugo-loveit/productive-apps-2022/"},{"categories":["APPS"],"content":"1 Recent APPs Here are some APPs that I started using recently to be productive: Recent APPs: TickTick | To-Do and Notes App in one. CleanShot X | Screen Shot and Screen recording App mmhmm | Makes on-screen meetings and presentations a little more fun. ","date":"2022-11-26","objectID":"/hugo-loveit/productive-apps-2022/:1:0","tags":["MAC","Apple","APPs"],"title":"Productive APPs | 2022","uri":"/hugo-loveit/productive-apps-2022/"},{"categories":["APPS"],"content":"2 Proven APPs Here are some APPs that I have been using Daily for work or Blogging for awhile. They have proven their place in my workflows: Proven APPs: Visual Studio Code | Creating Code Github Desktop Affinity Photo | Photo editing VMware Fusion Termius | SSH Client Forklift | SFTP Client Slack Zoom | Online Meetings, Chat, etc… Hugo | The world’s fastest framework for building websites Microsoft Teams | Online Meetings, Chat, etc… Microsoft Office | Word, Excel, Outlook, Powerpoint, OneNote Backblaze | Online Backup to keep all my important files offsite. Dashlane | Password Manager BetterSnapTool | easily manage your window positions Raindrop.io | All-in-one bookmark manager ","date":"2022-11-26","objectID":"/hugo-loveit/productive-apps-2022/:2:0","tags":["MAC","Apple","APPs"],"title":"Productive APPs | 2022","uri":"/hugo-loveit/productive-apps-2022/"},{"categories":["Career"],"content":"New Job | August 2022 | Technical Account Manager (TAM) On August 1, 2022 I became an employee of VMware as a Technical Account Manager, TAM. I was hired to be a TAM with a focus on the vRealize Suite. Within a month of my hire date VMware announced VMware Aria. So now I am a TAM with a focus on the VMware Aria Product. To work for VMware was a career goal of mine. I was always impressed by the VMware employees that I worked with the past 10+ years. Everyone was always very professional and had a great attitude to help their customers. I wanted to know personally what it was like to work in that type of culture. If you know me you know that I have a passion for the VMware Aria suite of Products. So to be a TAM with a focus on Aria is a good fit for me. After several months at VMware, this is what I learned. The culture overall is very positive. A lot of people helped me in my on-boarding and wanted to see me be successful. People that I knew before I joined VMware reached out to me and said “What can I do to help you”. The employee benefits are the best that I ever had in my career so far. You get to do a lot of training to keep your skills up to date and at a level the customers expect. The on-boarding process can take days, weeks, months… To get started I received a laptop of my choice 3 days before my start date. Never experienced that before. Having a Mentor at VMware is very important. Someone that wants to help you be successful and will take the time to show you how to do your job, recommend training, help you pick benefits, let you know about different programs to get involved with, let you know about weekly zoom training sessions, help you get a lab setup, etc… VMware wants all employees to give back by making donations to non-profits, 100% match by VMware. VMware wants all employees to donate time to non-profits. Special thanks to some people that went above and beyond when I started at VMware to help me, in no particular order: Marshall Cline, Ariel Sanchez, Brock Peterson, Cosmin Trif, Christopher Kusek, Anton Wesztergom, Alex Musicante, Chad Thomas, David Kruse, Steve Lieberson, Paul Schlosser, Christina Griffus and some I may have missed. Now that I am getting more engaged with the customers that I will be working with, I plan to start blogging more again to continue giving back to the vCommunity. Share the knowledge! If anyone that reads my blogs would ever want to talk to me about being a VMware employee, please reach out to me. I will share my experience 1:1. Another area that I want to give back to the vCommunity is to help Mentor others. If anyone wants to ever talk, please reach out. ","date":"2022-11-01","objectID":"/hugo-loveit/2nd-half-2022/:0:0","tags":["VMware","Culture","Benefits","vExpert"],"title":"What have I been up to? | 2nd half 2022","uri":"/hugo-loveit/2nd-half-2022/"},{"categories":["VMUG"],"content":"VMware Explore 2022 | San Francisco VMware Explore is always one of the premiere Technology Events every year. Here is a collection of links and tips to some of the activities that I would attend and enjoy. I always tried to attend the Keynotes to learn about new product announcements and to hear the direction that VMware was going. I attended a lot of sessions. See list of sessions that I would enjoy. I would do Hands on Labs that were not available to do anytime. There are some HOLs that are available only during the conference and there are VMware people to help you with the labs. If you are a TAM customer, there are sessions dedicated to TAM customers. Go to the Expo Area. You can always talk to VMware Engineers at the booths in the Expo Area and watch demos. A lot of Vendors in the Expo Area. I would allows attend some of the vBrownbag Tech Talks. The Tech Talks were a 10 - 15 minute presentation. Watch for Vendor Parties. They are always fun and drinks | food are always free. The Veeam party in the past was always one of the better parties. See a McLaren F1 car in person, experience the speed of F1 in a fun simulator and learn how VMware helps McLaren F1 accelerate innovation. Click to see Larger Image VMware Explore Sessions: Login to VMware Explore 2022 before clicking on session links. (Click Here) Agenda: VMware Explore Agenda Speakers: William Lam | Cloud Infrastructure Business Group Vincent Riccio | Cloud Management Business Unit Chris McClanahan | Cloud Management Business Unit Ariel Sanchez | One of the most accomplished TAMs you will meet. A mentor to many people in TECH John Nicholson | Storage and Availability Business Unit Sam McGeown | Technical Marketing team for Cloud Automation John Dias | Cloud Management solutions Amanda Blevins | Vice President and Chief Technology Officer for the Americas Kyle Ruddy | Senior Technical Product Marketing Manager for HashiCorp Graham Lockard | IT Infrastructure Manager | Penn State University | SaaS with Horizon Topics: SaltStack PowerCLI PowerShell | More sessions this year than I have seen in the past. VMware {code} vRealize Automation vRealize Operations vRealize Orchestrator vRealize Log Insight Virtually Speaking Podcast Live vSAN vSphere DevOps Sessions: VMware Explore | Twitter ","date":"2022-08-24","objectID":"/hugo-loveit/centra-pa-vmug-08-2022/:0:0","tags":["VMware","VMware Explore","VMWorld","vExpert","vCommunity"],"title":"Central PA VMUG | August 2022","uri":"/hugo-loveit/centra-pa-vmug-08-2022/"},{"categories":["PowerBlock"],"content":"VMware PowerBlock | August 2022 The August PowerBlock is absolutely going to be a well attended event. We are gong to have an all-star lineup, of highly qualified automation engineers, including Ariel Sanchez, Tom Gillaspy, Chris McClanahan, Dale Hassinger and our powerblock discussing a variety of topics. Here is the general outline for the conversation: How do you get started with automation? What does success look like? What are some of the common mistakes / misperceptions when getting started with automation? What are some examples of customer success using vRealize Automation? Why Automate? How to get started? What does success look like? What are some common mistakes / misperception’s Examples of customer success ","date":"2022-08-19","objectID":"/hugo-loveit/vmware-powerblock-08-2022/:0:0","tags":["VMware","PowerBlock","Automation","vRA","vRealize Automation"],"title":"VMware PowerBlock | August 2022","uri":"/hugo-loveit/vmware-powerblock-08-2022/"},{"categories":["Automation"],"content":"Using SaltStack Config api for Automation from vRA Catalog or cmd A personal goal of mine for 2022 was to start doing more with Python when working with VMware SaltStack Config. As a Windows Admin most of my automation was done with PowerShell. All the examples you see in the salt documentation are written in Python, so to use Python for some processes makes sense. I had a use case that made sense to use Python. I want to schedule reboots of AWS EC2 instances using SaltStack Config. For Servers that are on-prem I would always automate the process to create a server reboot scheduled task in vCenter. With AWS I want to use VMware SaltStack Config to schedule the Server Reboot. Manual Steps: Create a SaltStack Config Job to do the reboot. I create a job named “vRA | Server Reboot”. This job will be used for all scheduled server reboots. Copy the Python Code below and create a ScheduleServerReboot.py file that will be copied to the SSC server. The Python Code completes the following steps: Creates a Target that uses the grain “id” and will only target the Server that you want to reboot. Creates a Run Once Schedule to use the job and new target that was created. Sends an email to show that the run once schedule to reboot server was created. SaltStack Config Server: My SaltStack Config Server (SSC) is what VMware provides when using Life Cycle Manager (LCM) running Photon OS. Python Code: # --- Python Code --- # --- In my code I show the Password. In Production DO NOT DO THIS. # --- There are so many different ways to include encrypted PWs in the code. # --- Use what works best in your environment. # example to run the script # python3 /scripts/ScheduleServerReboot.py -name '2019DC' -dateTime '2022-06-25T23:00' import argparse import pprint import json from datetime import datetime from datetime import timedelta import random import smtplib, ssl from email.mime.text import MIMEText from email.mime.multipart import MIMEMultipart # --- Generate a random ID number randomNumber = random.randint(0,1000) randomNumber = '0000' + str(randomNumber) randomNumber = randomNumber[-4:] print('ID:',randomNumber) # --- parse arguments parser = argparse.ArgumentParser(description=\"Create Targets\", formatter_class=argparse.ArgumentDefaultsHelpFormatter) parser.add_argument(\"-name\", help=\"Target Name\") parser.add_argument(\"-dateTime\", help=\"Schedule Date | Time\") args = vars(parser.parse_args()) # --- Set up variables argName = args[\"name\"] argDateTime = args[\"dateTime\"] argDate = argDateTime[0:10] # --- Print the variables print('Server Name: ',argName) print('Date | Time: ',argDateTime) # --- Connect to SSC Server host = 'https://192.168.86.110' user = 'root' password = 'HackMe!' from sseapiclient.tornado import SyncClient client = SyncClient.connect(host, user, password, ssl_validate_cert=False) # --- Check to make sure minion exists minionName = '' minionReturn = client.api.minions.get_minion_presence(minion_id = argName) #print(targetReturn) for x in minionReturn.ret['results']: #print(x) minionName = x['minion'] print('minionName:', minionName) if minionName == '': print('Minion not found!') minionExists = 'false' else: print('Minion found!') minionExists = 'true' # --- Create Target ID | Name targetID = 'id:' + argName targetName = \"vRA | Reboot | \" + argName + ' | ' + argDate + ' | ID:' + randomNumber print('Target ID:',targetID) print('Target Name:',targetName) # --- Create New SSC Target client.api.tgt.save_target_group(tgt={'*': {'tgt_type': 'grain', 'tgt':targetID}}, name=targetName) # --- Get UUID of new Target Created targetReturn = client.api.tgt.get_target_group(name=targetName) for x in targetReturn.ret['results']: #print(x) targetUUID = x['uuid'] print('Target UUID:', targetUUID) # --- Get UUID of Job to run in Schedule #jobReturn=client.api.job.get_jobs() jobName = 'vRA | Server Reboot' print('Job Name: ',jobName) jobReturn = client.api.job.get_jobs(name=jobName) for x in jobReturn.ret['results']: #print(x) jobUUID = x['uuid'] print","date":"2022-06-26","objectID":"/hugo-loveit/saltstack-config-api/:0:0","tags":["SaltStack Config","VMware Aria Automation","vRealize Automation","Python","salt-api"],"title":"VMware vRealize SaltStack Config API","uri":"/hugo-loveit/saltstack-config-api/"},{"categories":["Automation"],"content":"Salt functions that I find myself using the most. I have been using VMware vRealize SaltStack Config for several months and I thought I would share and create my own cheat sheet to show which functions I use the most as a Windows Server admin and how to format the syntax. I still feel that I barely use all the capabilities that salt has to offer. SaltStack Config is a very Powerful tool to have available for anyone that has a vRealize Suite License. As a Windows Server admin don’t be afraid of salt because you feel it was made for Linux admins. That is NOT the case. I will be managing all Windows Server in my environment with salt. That includes VMs in vCenter and cloud native Azure VMs. This cheat sheet will be updated often to show examples as my journey into the salt world continues. Check back often. Link to salt module Documentation Ping - Make sure server responds: \u003e Command: salt \"vCROCS01\" test.ping OR salt \"*\" test.ping OR salt \"vC*\" test.ping \u003e Results: vCROCS01: True \u003e Command using --output=json: salt \"vCROCS01\" test.ping --output=json \u003e Results: { \"vCROCS01\": true } Windows Disk Usage: \u003e Command: salt \"vCROCS01\" disk.usage \u003e Results: vCROCS01: ---------- C:\\: ---------- 1K-blocks: 67642364.0 available: 15229492.0 capacity: 77% filesystem: C:\\ used: 52412872.0 E:\\: ---------- 1K-blocks: 41809856.0 available: 38486208.0 capacity: 8% filesystem: E:\\ used: 3323648.0 \u003e Command: salt \"vCROCS01\" disk.usage --output=json \u003e Results: { \"vCROCS01\": { \"C:\\\\\": { \"filesystem\": \"C:\\\\\", \"1K-blocks\": 67642364.0, \"used\": 52424392.0, \"available\": 15217972.0, \"capacity\": \"78%\" }, \"E:\\\\\": { \"filesystem\": \"E:\\\\\", \"1K-blocks\": 41809856.0, \"used\": 3323648.0, \"available\": 38486208.0, \"capacity\": \"8%\" } } } Windows Services: \u003e Command stop a Windows Service: salt \"vCROCS01\" service.stop \"spooler\" \u003e Results: vCROCS01: True \u003e Command disable a Windows Service: salt \"vCROCS01\" service.disable \"spooler\" \u003e Results: vCROCS01: True \u003e Command get status of a Windows Service: salt \"vCROCS01\" service.status \"spooler\" \u003e Results: vCROCS01: False \u003e Command see if a Windows Service is enabled: salt \"vCROCS01\" service.enabled \"spooler\" \u003e Results: vCROCS01: False Copy files to | Delete files from | Windows Server: \u003e Command Copy a file to a Windows Service - Source File | Destination File: salt \"vCROCS01\" cp.get_file \"salt://installer_file.msi\" \"C:\\install_files\\installer_file.msi\" \u003e Results: vCROCS01: C:\\install_files\\installer_file.msi \u003e Command Delete a file from a Windows Service: salt \"vCROCS01\" file.remove 'C:\\install_files\\installer_file.msi' \u003e Results: vCROCS01: True minion grain data: \u003e Command add grain data to a minion: salt \"vCROCS01\" grains.append azure_vm \"True\" vCROCS01: ---------- azure_vm: - True \u003e Command get grain custom data from a minion: salt \"vCROCS01\" grains.get azure_vm \u003e Results: vCROCS01: - True \u003e Command get grain os data from a minion: salt \"vCROCS01\" grains.get os \u003e Results: vCROCS01: Windows \u003e Command get grain os data from a minion: salt \"vCROCS01\" grains.get osfullname \u003e Results: vCROCS01: Microsoft Windows Server 2016 Datacenter \u003e Command get grain domain data from a minion: salt \"vCROCS01\" grains.get domain \u003e Results: vCROCS01: vcrocs.info \u003e Command get grain IP data from a minion: salt \"vCROCS01\" grains.get fqdn_ip4 \u003e Results: vCROCS01: - 192.168.99.99 \u003e Command sync minion grain data with salt master: salt \"vCROCS01\" saltutil.sync_grains \u003e Results: vCROCS01: PowerShell: \u003e Command run powershell command: salt \"vCROCS01\" cmd.run 'Get-Service | Where-Object {$_.Status -eq \"Running\"}' shell=PowerShell \u003e Results: vCROCS01: Status Name DisplayName ------ ---- ----------- Running AppHostSvc Application Host Helper Service Running BFE Base Filtering Engine Running BrokerInfrastru... Background Tasks Infrastructure Ser... Running CbDefense CB Defense Running CDPSvc Connected Devices Platform Service Running CertPropSvc Certificate Propagation Running COMSysApp COM+ System Application Running CoreMessagingRe... CoreMessaging \u003e C","date":"2022-03-06","objectID":"/hugo-loveit/saltstack-cheatsheet/:0:0","tags":["SaltStack Config","VMware Aria Automation","vRealize Automation","PowerShell","Grains"],"title":"VMware vRealize SaltStack Config cheat sheet for a Windows Server Admin","uri":"/hugo-loveit/saltstack-cheatsheet/"},{"categories":null,"content":" about VMware TAM (Technical Account Manager) VMware vExpert 2020 - 2022 VMware vExpert Cloud Management 2021 - 2022 If you can script it, You can Automate it! Info The views and opinions expressed on this blog are my strictly my own and do not reflect the views and opinions of my employer. I Blog about Subjects and Products that I find interesting and will hopefully help someone get started on their Automation, Monitoring and Logging journey by providing some tips|tricks|processes|code needed. My current focus is Enterprise Automation | Monitoring and Logging. I have created an IaC (Infrastructure as Code) Environment. I am using VMware vRealize Automation and SaltStack Config to complete server builds, software installs, schedule VM snap shots, Microsoft 365 automation, Citrix Management, Automate Data Center Flips, Server Decommissions, and many other Day 2 processes… For monitoring I use vRealize Operations for the “Single Pane of Glass” experience. I also use vRealize Log Insight for logging and LCM (Life Cycle Manager) for installing all the vRealize Products. Almost all the code I write to complete the Automation that I create is done with PowerShell. The reason I choose to use PowerShell is because to do Automation with VMware products they have released their product PowerCLI, which is built on top of PowerShell. There hasn’t been anything that I wanted to Automate that I haven’t been able to do with PowerShell. To do remote Citrix management also works very well using PowerShell. I have also started to do Automation with Azure. I am using PowerShell to create VMs and SaltStack Config to complete the configuration management, install software and maintain state. Your thought process is the most powerful automation tool you’ll ever have! - Cody De Arkland vCommunity I have learned a lot from the vCommunity, Powershell and PowerCLI web sites. I want to use this blog as a way for me to give back. If one person finds anything I post helpful, I will consider my efforts successful. The code that I have shared I use with vRealize Automation Cloud Templates/Catalog Items and everyday VMware Admin functions. Everyday I learn something new. If I think it should be shared I will write a blog about it. Check back often to see what I am doing next. “It doesn’t make sense to hire smart people and then tell them what to do, We hire smart people so they can tell us what to do.” - Steve Jobs Thanks! I have worked with a great group of people at VMware, past and present. I would like to thank the following people for all their support in no particular order: Steve Leiberson, Karl Hauck, Cosmin Trif, Brock Peterson, Kevin Holland, Daniel Thomas, Marcus Roberts, Paul Schlosser, Eric Pennente. Special Thanks to David Kruse for getting me started with vRA. Special Thanks to Vincent Riccio for allowing me to do SaltStack Config Presentations with you at VMworld 21 and SaltConf 21. Special Thanks to my first manager at VMware: Alex Musicante. You believed in me and my passion/skills/knowledge of the VMware Products. You gave me a career opportunity that no one else did. Special Thanks to some past and present co-workers, SEs, TAMs, HVC Members that I learned a lot from: Kirk Shaffer, Robert Mitchell, Dan Grove, Steve Holmes, Steve Pittenger, Anton Wesztergom (Opened my eyes to vRA Day 2), Ryan Palmer, Megan Koss, Josh Demcher. Special Thanks to the person that gave me my first Job in IT: David Cornelius List of Bloggers that I follow and have learned a lot by them “Giving Back”: Cody De Arkland, Luc Dekens, Kyle Ruddy, William Lam, Nathen Bennett, Vince Wood, Alan Renouf. and anyone else that helped me in my journey called my career… Experience VMware Aria VMware Aria Hub VMware Aria Graph VMware Aria Automation VMware Aria Automation Config VMware Aria Operations VMware Aria Operations for Logs VMware vSphere VMware vCenter vRealize Automation vRealize SaltStack Config vRealize Operations PowerShell PowerCLI vRealize Log Insight Windows Ser","date":"2022-12-30","objectID":"/hugo-loveit/about/:0:0","tags":null,"title":"Dale Hassinger","uri":"/hugo-loveit/about/"},{"categories":null,"content":"Favorite Links","date":"2022-12-30","objectID":"/hugo-loveit/links/","tags":null,"title":"Favorite Links","uri":"/hugo-loveit/links/"},{"categories":null,"content":" Links to some of my favorite Bloggers and Content: Bloggers: Brock Peterson - VMware Aria Operations Master LucD - PowerShell Master William Lam - VMware Master Yellow Bricks VMware: VMware Operations Management Book - Great Book! code.VMware.com - Samples/Resources Learn vRealize Automation Learn SaltStack Config blogs.VMware.com PowerShell PowerCLI VMware PowerCLI Cmdlets by Product vRealize Automation vRealize Operations vRealize Log Insight ports.VMware.com - Good Link when you live in a Zero trust environment Podcasts: Virtually Speaking Podcast The Hacks - Powered By SaltStack IT Reality Podcast ","date":"2022-12-30","objectID":"/hugo-loveit/links/:0:0","tags":null,"title":"Favorite Links","uri":"/hugo-loveit/links/"},{"categories":null,"content":" VMworld 2021 SaltConf 2021 Pat Gelsinger The Woz Belle Belle Belle Belle Belle Belle Belle Belle Belle and I Heaven Current Ride ","date":"2022-12-30","objectID":"/hugo-loveit/pics/:0:0","tags":null,"title":"Pics","uri":"/hugo-loveit/pics/"}]